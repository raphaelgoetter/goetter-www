<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <title>Calendrier 2025â€“2026 â€” Marlenheim toutes Ã©quipes</title>
    <link
      rel="stylesheet"
      href="../app.css" />
  </head>
  <body>
    <header
      role="banner"
      class="page-header">
      <h1 class="page-title">Marlenheim Saison 2025â€“2026 ğŸ“</h1>
    </header>

    <main
      role="main"
      class="page-main">
      <nav
        class="toc"
        style="background: none"
        aria-label="Filtrer par Ã©quipe">
        <ul
          class="filter-list"
          role="list">
          <li>
            <button
              type="button"
              class="js-filter"
              data-team="all"
              aria-pressed="true">
              Toutes Ã©quipes
            </button>
          </li>
          <li>
            <button
              type="button"
              class="js-filter"
              data-team="Marlenheim 1">
              Marlenheim 1
            </button>
          </li>
          <li>
            <button
              type="button"
              class="js-filter"
              data-team="Marlenheim 2">
              Marlenheim 2
            </button>
          </li>
          <li>
            <button
              type="button"
              class="js-filter"
              data-team="Marlenheim 3">
              Marlenheim 3
            </button>
          </li>
          <li>
            <button
              type="button"
              class="js-filter"
              data-team="Marlenheim 4">
              Marlenheim 4
            </button>
          </li>
          <li>
            <button
              type="button"
              class="js-filter"
              data-team="Marlenheim 5">
              Marlenheim 5
            </button>
          </li>
          <li>
            <button
              type="button"
              class="js-filter"
              data-team="Marlenheim 6">
              Marlenheim 6
            </button>
          </li>
        </ul>
      </nav>
      <section
        aria-labelledby="calendrier-de-la-saison"
        class="section section-calendar">
        <h2 id="calendrier-de-la-saison">
          Calendrier de la saison 2025â€“2026 (<span
            id="calendar-scope"
            aria-live="polite"
            aria-atomic="true"
            >toutes Ã©quipes</span
          >)
        </h2>
        <div class="table-responsive">
          <table id="calendar">
            <caption class="visually-hidden">
              Calendrier 2025â€“2026 â€” Marlenheim (toutes Ã©quipes)
            </caption>
            <thead>
              <tr>
                <th scope="col">J</th>
                <th scope="col">Date</th>
                <th scope="col">Division</th>
                <th scope="col">Rencontre</th>
                <th scope="col">Score</th>
              </tr>
            </thead>
            <tbody>
              <!-- J1 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j1"
                  rowspan="5">
                  1
                </th>
                <td>Jeu 18-09-2025</td>
                <td>D1</td>
                <td>
                  <strong>Marlenheim 3</strong> - <strong>Marlenheim 2</strong>
                </td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 19-09-2025</td>
                <td>Honneur</td>
                <td><strong>Marlenheim 1</strong> - Gerstheim St Denis 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 19-09-2025</td>
                <td>D2</td>
                <td>VallÃ©e de la Hasel TT 2 - <strong>Marlenheim 5</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 19-09-2025</td>
                <td>D2</td>
                <td>Wasselonne St Laurent 2 - <strong>Marlenheim 4</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 19-09-2025</td>
                <td>D2</td>
                <td>VallÃ©e de la Hasel TT 3 - <strong>Marlenheim 6</strong></td>
                <td></td>
              </tr>

              <!-- J2 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j2"
                  rowspan="6">
                  2
                </th>
                <td>Mar 30-09-2025</td>
                <td>D2</td>
                <td><strong>Marlenheim 6</strong> - Dinsheim SD 3</td>
                <td></td>
              </tr>
              <tr>
                <td>Mer 01-10-2025</td>
                <td>D2</td>
                <td><strong>Marlenheim 5</strong> - Russ St Etienne 3</td>
                <td></td>
              </tr>
              <tr>
                <td>Jeu 02-10-2025</td>
                <td>Honneur</td>
                <td>Rosheim Aloysia 2 - <strong>Marlenheim 1</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 03-10-2025</td>
                <td>D1</td>
                <td><strong>Marlenheim 2</strong> - Osthoffen FC 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 03-10-2025</td>
                <td>D1</td>
                <td>Dinsheim SD 2 - <strong>Marlenheim 3</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 03-10-2025</td>
                <td>D2</td>
                <td><strong>Marlenheim 4</strong> - Osthoffen FC 5</td>
                <td></td>
              </tr>

              <!-- J3 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j3"
                  rowspan="6">
                  3
                </th>
                <td>Mar 14-10-2025</td>
                <td>D2</td>
                <td>Cosswiller TT 1 - <strong>Marlenheim 4</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Jeu 16-10-2025</td>
                <td>D1</td>
                <td><strong>Marlenheim 3</strong> - Wolxheim AP 3</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 17-10-2025</td>
                <td>Honneur</td>
                <td><strong>Marlenheim 1</strong> - Plaine AS 1</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 17-10-2025</td>
                <td>D2</td>
                <td>Osthoffen FC 4 - <strong>Marlenheim 5</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 17-10-2025</td>
                <td>D2</td>
                <td>Osthoffen FC 6 - <strong>Marlenheim 6</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 17-10-2025</td>
                <td>D1</td>
                <td>Osthoffen FC 3 - <strong>Marlenheim 2</strong></td>
                <td></td>
              </tr>

              <!-- J4 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j4"
                  rowspan="6">
                  4
                </th>
                <td>Jeu 30-10-2025</td>
                <td>D2</td>
                <td>Rosheim Aloysia 4 - <strong>Marlenheim 5</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 31-10-2025</td>
                <td>Honneur</td>
                <td><strong>Marlenheim 1</strong> - Wolxheim AP 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 31-10-2025</td>
                <td>D1</td>
                <td>Plaine AS 2 - <strong>Marlenheim 3</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 31-10-2025</td>
                <td>D1</td>
                <td>Dinsheim SD 2 - <strong>Marlenheim 2</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 31-10-2025</td>
                <td>D2</td>
                <td>Rosheim Aloysia 3 - <strong>Marlenheim 4</strong></td>
                <td></td>
              </tr>
              <tr>
                <td></td>
                <td>D2</td>
                <td><strong>Marlenheim 6</strong> â€” RelÃ¢che</td>
                <td></td>
              </tr>

              <!-- J5 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j5"
                  rowspan="6">
                  5
                </th>
                <td>Mar 18-11-2025</td>
                <td>D2</td>
                <td><strong>Marlenheim 6</strong> - Russ St Etienne 4</td>
                <td></td>
              </tr>
              <tr>
                <td>Mer 19-11-2025</td>
                <td>D2</td>
                <td><strong>Marlenheim 5</strong> - Obernai CA 4</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 21-11-2025</td>
                <td>Honneur</td>
                <td>Wasselonne St Laurent 1 - <strong>Marlenheim 1</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 21-11-2025</td>
                <td>D1</td>
                <td>Marmoutier St Etienne 3 - <strong>Marlenheim 3</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 21-11-2025</td>
                <td>D1</td>
                <td><strong>Marlenheim 2</strong> - Wolxheim AP 3</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 21-11-2025</td>
                <td>D2</td>
                <td><strong>Marlenheim 4</strong> - Obernai CA 5</td>
                <td></td>
              </tr>

              <!-- J6 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j6"
                  rowspan="6">
                  6
                </th>
                <td>Mar 02-12-2025</td>
                <td>D2</td>
                <td>Cosswiller TT 2 - <strong>Marlenheim 6</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Jeu 04-12-2025</td>
                <td>D1</td>
                <td><strong>Marlenheim 3</strong> - Osthoffen FC 3</td>
                <td></td>
              </tr>
              <tr>
                <td>Jeu 04-12-2025</td>
                <td>D2</td>
                <td>Russ St Etienne 2 - <strong>Marlenheim 4</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 05-12-2025</td>
                <td>Honneur</td>
                <td><strong>Marlenheim 1</strong> - Obernai CA 1</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 05-12-2025</td>
                <td>D2</td>
                <td>Plaine AS 3 - <strong>Marlenheim 5</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 05-12-2025</td>
                <td>D1</td>
                <td>Plaine AS 2 - <strong>Marlenheim 2</strong></td>
                <td></td>
              </tr>

              <!-- J7 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j7"
                  rowspan="6">
                  7
                </th>
                <td>Jeu 18-12-2025</td>
                <td>Honneur</td>
                <td>Dorlisheim SD 2 - <strong>Marlenheim 1</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 19-12-2025</td>
                <td>D1</td>
                <td>Osthoffen FC 2 - <strong>Marlenheim 3</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 19-12-2025</td>
                <td>D1</td>
                <td>Marmoutier St Etienne 3 - <strong>Marlenheim 2</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 19-12-2025</td>
                <td>D2</td>
                <td>Marmoutier St Etienne 4 - <strong>Marlenheim 6</strong></td>
                <td></td>
              </tr>
              <tr>
                <td></td>
                <td>D2</td>
                <td><strong>Marlenheim 5</strong> â€” RelÃ¢che</td>
                <td></td>
              </tr>
              <tr>
                <td></td>
                <td>D2</td>
                <td><strong>Marlenheim 4</strong> â€” RelÃ¢che</td>
                <td></td>
              </tr>

              <!-- J8 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j8"
                  rowspan="5">
                  8
                </th>
                <td>Mar 20-01-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 6</strong> - VallÃ©e de la Hasel TT 3</td>
                <td></td>
              </tr>
              <tr>
                <td>Mer 21-01-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 5</strong> - VallÃ©e de la Hasel TT 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 23-01-2026</td>
                <td>Honneur</td>
                <td>Gerstheim St Denis 2 - <strong>Marlenheim 1</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 23-01-2026</td>
                <td>D1</td>
                <td>
                  <strong>Marlenheim 2</strong> - <strong>Marlenheim 3</strong>
                </td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 23-01-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 4</strong> - Wasselonne St Laurent 2</td>
                <td></td>
              </tr>

              <!-- J9 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j9"
                  rowspan="6">
                  9
                </th>
                <td>Jeu 29-01-2026</td>
                <td>D1</td>
                <td><strong>Marlenheim 3</strong> - Dinsheim SD 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Jeu 29-01-2026</td>
                <td>D2</td>
                <td>Russ St Etienne 3 - <strong>Marlenheim 5</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 30-01-2026</td>
                <td>Honneur</td>
                <td><strong>Marlenheim 1</strong> - Rosheim Aloysia 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 30-01-2026</td>
                <td>D1</td>
                <td>Osthoffen FC 2 - <strong>Marlenheim 2</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 30-01-2026</td>
                <td>D2</td>
                <td>Dinsheim SD 3 - <strong>Marlenheim 6</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 30-01-2026</td>
                <td>D2</td>
                <td>Osthoffen FC 5 - <strong>Marlenheim 4</strong></td>
                <td></td>
              </tr>

              <!-- J10 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j10"
                  rowspan="6">
                  10
                </th>
                <td>Mar 10-02-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 6</strong> - Osthoffen FC 6</td>
                <td></td>
              </tr>
              <tr>
                <td>Mer 11-02-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 5</strong> - Osthoffen FC 4</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 13-02-2026</td>
                <td>Honneur</td>
                <td>Plaine AS 1 - <strong>Marlenheim 1</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 13-02-2026</td>
                <td>D1</td>
                <td>Wolxheim AP 3 - <strong>Marlenheim 3</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 13-02-2026</td>
                <td>D1</td>
                <td><strong>Marlenheim 2</strong> - Osthoffen FC 3</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 13-02-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 4</strong> - Cosswiller TT 1</td>
                <td></td>
              </tr>

              <!-- J11 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j11"
                  rowspan="6">
                  11
                </th>
                <td>Mar 10-03-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 4</strong> - Rosheim Aloysia 3</td>
                <td></td>
              </tr>
              <tr>
                <td>Mer 11-03-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 5</strong> - Rosheim Aloysia 4</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 13-03-2026</td>
                <td>Honneur</td>
                <td>Wolxheim AP 2 - <strong>Marlenheim 1</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 13-03-2026</td>
                <td>D1</td>
                <td><strong>Marlenheim 3</strong> - Plaine AS 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 13-03-2026</td>
                <td>D1</td>
                <td><strong>Marlenheim 2</strong> - Dinsheim SD 2</td>
                <td></td>
              </tr>
              <tr>
                <td></td>
                <td>D2</td>
                <td><strong>Marlenheim 6</strong> â€” RelÃ¢che</td>
                <td></td>
              </tr>

              <!-- J12 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j12"
                  rowspan="6">
                  12
                </th>
                <td>Jeu 02-04-2026</td>
                <td>D1</td>
                <td><strong>Marlenheim 3</strong> - Marmoutier St Etienne 3</td>
                <td></td>
              </tr>
              <tr>
                <td>Jeu 02-04-2026</td>
                <td>D2</td>
                <td>Russ St Etienne 4 - <strong>Marlenheim 6</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 03-04-2026</td>
                <td>D2</td>
                <td>Obernai CA 4 - <strong>Marlenheim 5</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 03-04-2026</td>
                <td>Honneur</td>
                <td><strong>Marlenheim 1</strong> - Wasselonne St Laurent 1</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 03-04-2026</td>
                <td>D1</td>
                <td>Wolxheim AP 3 - <strong>Marlenheim 2</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 03-04-2026</td>
                <td>D2</td>
                <td>Obernai CA 5 - <strong>Marlenheim 4</strong></td>
                <td></td>
              </tr>

              <!-- J13 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j13"
                  rowspan="6">
                  13
                </th>
                <td>Mar 21-04-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 6</strong> - Cosswiller TT 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Mer 22-04-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 5</strong> - Plaine AS 3</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 24-04-2026</td>
                <td>Honneur</td>
                <td>Obernai CA 1 - <strong>Marlenheim 1</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 24-04-2026</td>
                <td>D1</td>
                <td>Osthoffen FC 3 - <strong>Marlenheim 3</strong></td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 24-04-2026</td>
                <td>D1</td>
                <td><strong>Marlenheim 2</strong> - Plaine AS 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 24-04-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 4</strong> - Russ St Etienne 2</td>
                <td></td>
              </tr>

              <!-- J14 -->
              <tr>
                <th
                  scope="rowgroup"
                  id="j14"
                  rowspan="6">
                  14
                </th>
                <td>Mar 12-05-2026</td>
                <td>D2</td>
                <td><strong>Marlenheim 6</strong> - Marmoutier St Etienne 4</td>
                <td></td>
              </tr>
              <tr>
                <td>Jeu 14-05-2026</td>
                <td>D1</td>
                <td><strong>Marlenheim 3</strong> - Osthoffen FC 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 15-05-2026</td>
                <td>Honneur</td>
                <td><strong>Marlenheim 1</strong> - Dorlisheim SD 2</td>
                <td></td>
              </tr>
              <tr>
                <td>Ven 15-05-2026</td>
                <td>D1</td>
                <td><strong>Marlenheim 2</strong> - Marmoutier St Etienne 3</td>
                <td></td>
              </tr>
              <tr>
                <td></td>
                <td>D2</td>
                <td><strong>Marlenheim 5</strong> â€” RelÃ¢che</td>
                <td></td>
              </tr>
              <tr>
                <td></td>
                <td>D2</td>
                <td><strong>Marlenheim 4</strong> â€” RelÃ¢che</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </main>
  </body>
  <script>
    ;(function () {
      // DÃ©tecte la prochaine journÃ©e, marque les passÃ©es, et filtre par Ã©quipe
      const table = document.getElementById("calendar")
      const tbody = table?.querySelector("tbody")
      if (!tbody) return

      /**
       * Parse une date FR "Jour dd-mm-yyyy" en Date locale, sans l'heure.
       * Retourne null si chaÃ®ne vide (cas RelÃ¢che)
       */
      const parseDate = (txt) => {
        if (!txt) return null
        // Ex: "Ven 23-01-2026" â†’ on garde la partie dd-mm-yyyy
        const parts = txt.trim().split(" ")
        const dmy = parts[1] || parts[0]
        const [dd, mm, yyyy] = dmy.split("-").map(Number)
        if (!dd || !mm || !yyyy) return null
        return new Date(yyyy, mm - 1, dd)
      }

      // Regroupe les TR par journÃ©e via le th[scope=rowgroup]
      const groups = []
      let currentGroup = null
      ;[...tbody.rows].forEach((tr) => {
        const th = tr.querySelector('th[scope="rowgroup"]')
        if (th) {
          // MÃ©morise le rowspan d'origine pour rÃ©tablir aprÃ¨s filtrage
          const originalRowspan =
            Number(th.getAttribute("rowspan")) || th.rowSpan || 1
          currentGroup = { id: th.id || "", th, rows: [tr], originalRowspan }
          groups.push(currentGroup)
        } else if (currentGroup) {
          currentGroup.rows.push(tr)
        }
      })

      // Trouve la premiÃ¨re journÃ©e qui comporte au moins une date >= aujourd'hui
      const today = new Date()
      today.setHours(0, 0, 0, 0)

      const isUpcomingGroup = (group) => {
        // RÃ©cupÃ¨re la plus petite date du groupe (ignorer les lignes sans date)
        const dates = group.rows
          .map((tr) => parseDate(tr.cells[0]?.textContent || ""))
          .filter((d) => d instanceof Date)
        if (dates.length === 0) return false
        dates.sort((a, b) => a - b)
        return dates[0] >= today
      }

      // Marquer toutes les lignes passÃ©es (avec date < aujourd'hui)
      ;[...tbody.rows].forEach((tr) => {
        const d = parseDate(tr.cells[0]?.textContent || "")
        if (d instanceof Date && d < today) {
          tr.classList.add("is-past")
        }
      })

      // Marquer la prochaine journÃ©e
      const next = groups.find(isUpcomingGroup)
      if (next) {
        next.rows.forEach((tr) => tr.classList.add("is-next"))
      }

      // Filtrage par Ã©quipe via .toc
      const toc = document.querySelector(".toc")
      const buttons = toc ? toc.querySelectorAll(".js-filter") : []

      // DÃ©termine la cellule "Rencontre" pour une ligne donnÃ©e
      const getRencontreText = (tr) => {
        const hasTh = !!tr.querySelector('th[scope="rowgroup"]')
        const idx = hasTh ? 3 : 2 // Rencontre: 3e td si th prÃ©sent, sinon 2e td
        const cell = tr.cells[idx]
        return cell ? cell.textContent : ""
      }

      const scopeEl = document.getElementById("calendar-scope")

      const setPressed = (target) => {
        buttons.forEach((btn) =>
          btn.setAttribute("aria-pressed", String(btn === target)),
        )
      }

      const clearFilter = () => {
        table.classList.remove("is-filtering")
        ;[...tbody.rows].forEach((tr) => {
          tr.classList.remove("show", "group-header")
        })
        // Restaure les rowspans d'origine
        groups.forEach((g) => {
          if (g && g.th) g.th.rowSpan = g.originalRowspan
        })
      }

      const applyFilter = (team) => {
        if (!team || team === "all") {
          clearFilter()
          if (scopeEl) scopeEl.textContent = "toutes Ã©quipes"
          return
        }
        table.classList.add("is-filtering")
        // RÃ©initialise visibilitÃ©
        ;[...tbody.rows].forEach((tr) =>
          tr.classList.remove("show", "group-header"),
        )

        // Construit une regex stricte pour "Marlenheim X"
        const makeTeamRegex = (label) => {
          const m = label.match(/Marlenheim\s+(\d+)/i)
          if (m) {
            // bornes mots pour Ã©viter faux positifs
            return new RegExp(`(?:^|\\b)Marlenheim\\s+${m[1]}(?:\\b|$)`, "i")
          }
          const esc = label.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")
          return new RegExp(esc, "i")
        }
        const reTeam = makeTeamRegex(team)

        // Pour chaque groupe, affiche l'entÃªte et les lignes correspondantes s'il existe au moins une rencontre du club
        groups.forEach((group) => {
          const headerRow = group.rows[0]
          const headerText = getRencontreText(headerRow)
          const headerMatches = reTeam.test(headerText)

          const otherMatches = group.rows.filter((tr, idx) => {
            if (idx === 0) return false // exclut l'entÃªte
            const txt = getRencontreText(tr)
            return reTeam.test(txt)
          })

          const totalMatches = (headerMatches ? 1 : 0) + otherMatches.length
          if (totalMatches > 0) {
            // Affiche l'entÃªte et les lignes concernÃ©es
            headerRow.classList.add("group-header")
            if (headerMatches) headerRow.classList.add("show")
            otherMatches.forEach((tr) => tr.classList.add("show"))
            // Ajuste le rowspan au nombre de lignes visibles dans le groupe
            group.th.rowSpan = 1 + otherMatches.length
          }
        })

        // LibellÃ© dynamique du scope
        if (scopeEl) scopeEl.textContent = team
      }

      // Met Ã  jour l'URL sans recharger la page
      const updateURLForTeam = (teamLabel) => {
        const url = new URL(window.location.href)
        const params = url.searchParams
        if (!teamLabel || teamLabel === "all") {
          params.delete("marlenheim")
        } else {
          const m = teamLabel.match(/Marlenheim\s+(\d+)/i)
          if (m) params.set("marlenheim", m[1])
        }
        // Conserver le hash Ã©ventuel
        window.history.replaceState(
          {},
          "",
          `${url.pathname}?${params.toString()}${url.hash || ""}`,
        )
      }

      // Clics sur les boutons: appliquer filtre + URL
      buttons.forEach((btn) => {
        btn.addEventListener("click", () => {
          setPressed(btn)
          applyFilter(btn.dataset.team)
          updateURLForTeam(
            btn.dataset.team === "all" ? "all" : btn.dataset.team,
          )
        })
      })

      // Lecture du filtre depuis l'URL au chargement
      const initFromURL = () => {
        const params = new URLSearchParams(window.location.search)
        const n = params.get("marlenheim")
        if (n && /^\d+$/.test(n)) {
          const teamLabel = `Marlenheim ${n}`
          const btn = [...buttons].find((b) => b.dataset.team === teamLabel)
          if (btn) {
            setPressed(btn)
            applyFilter(teamLabel)
            return
          }
        }
        // dÃ©faut: toutes Ã©quipes
        const allBtn = [...buttons].find((b) => b.dataset.team === "all")
        if (allBtn) setPressed(allBtn)
        clearFilter()
      }

      // RÃ©agir aux navigations arriÃ¨re/avant
      window.addEventListener("popstate", initFromURL)
      // Initialiser au chargement
      initFromURL()
    })()
  </script>
</html>
